# 单片机学习

## 一、第一讲：单片机预备知识

### 什么是单片机？

- 单板机

  将**CPU**芯片、**存储器**芯片、**I/O接口**芯片和简单的**I/O设备**（小键盘、LED显示器）等装配在一块印刷电路板上，再配上**监控程序**（固化在ROM中），就构成了一台单板微型计算机（简称单板机）

  单板机的I/O设备简单，软件资源少，使用不方便。早期主要用于微型计算机原理的**教学**及**简单的测控系统**，现在已很少使用。

- 单片机

  在一片集成电路芯片上集成微处理器、存储器、I/O接口电路，从而构成了**单芯片微型计算机，即单片机**。Intel公司推出了MCS-51系列单片机：**集成8位CPU、4K字节ROM、128字节RAM、4个8位并口、1个全双工串行口、2个16位定时/计数器。寻址范围64K，并有控制功能较强的布尔处理器。**

### 电平特性

- 数字电路中只有两种电平：高和低

- （本课程）定义单片机为TTL电平：

  ​				高 +5v       低  0v

- RS232电平：计算机的串口

  ​				高 -12V      低 +12V

  所以计算机与单片机之间通讯时需要加电平转换芯片max232（实验板上左下角）。

- 数字电路中的两种电平特性决定了它

  ![1558423960269](C:\Users\lyw\AppData\Roaming\Typora\typora-user-images\1558423960269.png)

  

### 80C51系列介绍

80C51是MCS-51系列中的一个典型品种；其他厂商以**8051为基核**开发出的CMOS工艺单片机产品**统称为80C51系列**。当前常用的80C51系列单片机的主要产品有：

- **Intel**的：80C31、80C51、87C51、80C32、80C52、87C52等；
- **ATMEL**的：89C51、89C52、89C2051等；
- **Philips、华邦、Dallas、STC、Siemens(Infineon)**等公司的许多产品

### 8051引脚封装

![1558425184120](C:\Users\lyw\AppData\Roaming\Typora\typora-user-images\1558425184120.png)

### **P3**第二功能各引脚功能定义：

![1558425209572](C:\Users\lyw\AppData\Roaming\Typora\typora-user-images\1558425209572.png)

### 内部结构

![1558425306741](C:\Users\lyw\AppData\Roaming\Typora\typora-user-images\1558425306741.png)

### 各个概念

- **总线**（BUS）是计算机各部件之间传送信息的公共通道。微机中有内部总线和外部总线两类。内部总线是CPU内部之间的连线。外部总线是指CPU与其它部件之间的连线。 外部总线有三种:
  数据总线DB（Data  Bus）, 地址总线 AB（Address  Bus）和控制总线 CB(Control   Bus）。
- **CPU**：由运算和控制逻辑组成，同时还包括中断系统和部分外部特殊功能寄存器；
- **RAM**：用以存放可以读写的数据，如运算的中间结果、最终结果以及欲显示的数据；
- **ROM**：用以存放程序、一些原始数据和表格；
- **I/O口**：四个8位并行I/O口，既可用作输入，也可用作输出；
- **T/C**：两个定时/记数器，既可以工作在定时模式，也可以工作在记数模式；
- 五个中断源的中断控制系统；
- 一个全双工**UART**（通用异步接收发送器）的串行**I/O**口，用于实现单片机之间或单片机与微机之间的串行通信；
- 片内振荡器和时钟产生电路，石英晶体和微调电容需要外接。最高振荡频率取决于单片机型号及性能。

### 单片机主要掌握以下几点

- 最小系统能够运行起来的必要条件。

     1.电源 2.晶振3.复位电路

- 对单片机任意IO口的随意操作

     1.输出控制电平高低2.输出检测电平高低。

- 定时器：重点掌握最常用的方式2

- 中断：外部中断、定时器中断、串口中断

- 串口通信：单片机之间、单片机与计算机间

### 74HC573

- OE（out enable）上面带一横杠说明该芯片低电平有效

![1558431242516](C:\Users\lyw\AppData\Roaming\Typora\typora-user-images\1558431242516.png)



![1558431779565](C:\Users\lyw\AppData\Roaming\Typora\typora-user-images\1558431779565.png)

